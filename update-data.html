<link rel="import" href="../polymer/polymer.html">
<!--
`<update-data></update-data>` saves update data after a delay
@demo demo.html
-->

<dom-module id="update-data">
<template>

</template>
</dom-module>
<script>
Polymer({
  is: "update-data",
  properties: {
    data: {observer: "debounceMe"},
    wait: {type:Number, value: 5},
    update: {
      notify: true
    }
  },
  debounceMe: function () {
    if (JSON.stringify(this.update) !== JSON.stringify(this.updateData)) {
      this.debounce("updateData", this.updateData, this.wait * 1000)
    }
  },
  updateData: function () {
    if (JSON.stringify(this.update) !== JSON.stringify(this.updateData)) {
      this.set("update", this.data)
    }
  }
})
</script>
